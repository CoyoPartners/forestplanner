{% extends 'discovery/page.html' %}
{% load static %}

{% block extra_styles %}
  {{ block.super }}
  <link rel="stylesheet" href="{% static 'discovery/css/grid.css' %}">
{% endblock extra_styles %}

{% block content %}
  {% block cardcontainer %}
  <div class="container">
    <div class="card-deck">
      {% for data in grid_data %}
        {% block card %}
        <div class="card stand-wrap">
          <!-- Todo: add dataset values for property data for loading into modal -->
          <a data-toggle="modal" data-target="#stand-modal"
              data-img="{% if data.splash_image %}{{ data.splash_image }}{% else %}{{ grid_defaults.splash_image }}{% endif %}">
            <span class="card-img-top-wrapper">
              {% if data.image %}
                <img src="{{ data.image }}" class="card-img-top" alt="{{ data.labels.0.value }}">
              {% else %}
                <img src="{{ grid_defaults.image }}" class="card-img-top">
              {% endif %}
            </span>
            <div class="card-body">
              {% for label in data.labels %}
                {% if label.label == "title" %}
                  <h5 class="card-title">{{ label.value}}</h5>
                {% else %}
                  <span class="card-text">
                    <span class="grid-label-label">{{ label.label }}:</span>
                    <span class="grid-label-value">
                      {% if label.pretext %}{{ label.pretext }}{% endif %}
                      {{ label.value }}
                      {% if label.posttext %}{{ label.posttext }}{% endif %}
                    </span>
                  </span><br />
                {% endif %}
              {% endfor %}
            </div>
          </a>
        </div>
        {% endblock %} <!-- card -->
      {% endfor %}
    </div>
  </div>
  {% endblock %} <!-- cardcontainer -->

  <div class="modal fade" id="stand-modal" tabindex="-1" role="dialog" aria-labelledby="stand-modal" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-body">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          <div class="row align-items-stretch">
            <div class="col-6">
              <h5 class="modal-title"></h5>
              <a href="/discovery/map/" class="btn btn-dark">Select this stand</a>
            </div>
            <div class="col-6 side-image">
              <img src="" class="modal-image"/>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
{% endblock content %}
